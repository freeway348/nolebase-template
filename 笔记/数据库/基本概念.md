---
tags:
  - 数据库
  - 期末
  - 复习
date: 2024-06-22
---
[封锁技术](封锁技术.md)及其带来的[问题](封锁带来的问题.md)
[如何求候选码](求候选码.md)
[求解函数依赖集问题](最小函数依赖集.md)
[闭包运算](求候选码.md#闭包运算)

# 一、数据库概论
## 1. 三层模式和两级映像
- 地位：数据库的**三层模式和两级映像结构称为"数据库的体系结构"**，或称"三层模式结构"，或"数据抽象的三个级别"。
### (1)三层模式
#### 1）外模式
- 别称：子模式、用户模式
- 定义：是用户和数据库系统的接口，是**用户用到的那部分数据的描述**。
- 特点：用户使用**DB的数据操纵语言 (DBL)** 语句的对数据库进行操作，实际上是对外模式的外部数据进行操作。例如：读一个记录值，**读的是一个外部记录值，而不是数据库的内部记录值**。
- ==实际上，外模式是逻辑模式的逻辑子集==
#### 2）逻辑模式
- 别称：有时也简称为"**模式**"
- 定义：是数据库中全部数据的**整体逻辑结构**的描述。
- 特点：必须**不涉及存储结构、访问技术等细节**，逻辑模式提供了**连接这两级的相对稳定的中间观点**。
#### 3）内模式
- 别称：存储模式
- 定义：是数据库在**物理存储**方面的描述。
- 特点：**不涉及物理设备的约束**。比内模式更接近物理存储和访问的是操作系统的一部分。
### (2)两级映像
1. 外模式/逻辑模式映像存在于外模式和逻辑模式之间。一般是放在外模式之中描述的。
2. 逻辑模式/内模式映像存在于逻辑模式和内模式之间。一般是放在内模式之中描述的。
## 2. 高度的数据独立性
### (1) 物理数据独立性
- 定义：如果要**修改**数据库的**内模式**，只要对逻辑模式/内模式映像作对应修改，使**逻辑模式尽可能保持不变**
### (2)逻辑数据独立性
- 定义：如果要**修改**数据库的**逻辑模式**，只要对外模式/逻辑模式映像作对应修改，使**外模式和应用程序尽可能保持不变**
# 二、关系模型
## 1. 基本术语
- ==在关系模型中，字段称为属性，字段值称为属性值，记录类型称为关系模式。记录称为元组，元组的集合称为关系或实例。元组为行，属性为列，关系中属性的个数称为"元数"，元组的个数称为"基数"。==  
- 表格说明

|     名称     |                                                概念                                                |
| :--------: | :----------------------------------------------------------------------------------------------: |
|     超键     |                          **在关系中能唯一标识元组的属性集称为关系模式的超键**(只要属性集中包含有一个候选键即可)                          |
|     主键     |                                         从若干个候选键中指定一个作为主键                                         |
|    主属性     |                                           候选键中的属性为主属性                                            |
|    非主属性    |                                         不包含在候选键中的属性为非主属性                                         |
| **候选键(码)** | **表中的一行记录就是元组(属性集)，能惟一标识元组，并且不含多余属性的属性(组合属性)，即：可由一个属性集(或属性)推出所有属性集中的元素，且该属性集为最小属性集，则该属性集为一个候选码** |
|     外键     |                        关系模式R1中的某属性集不是自己的主键，而是关系模式R2的主键，则该属性集称为是关系模式R1的外键                         |
|   全码(键)    |                            关系模型的所有属性组是这个关系模式的候选键，**极端情况下，所有属性组都是主键**                             |
## 2. 关系的定义和性质
- 定义：关系是一个属性数目相同的元组的集合。**如果一个关系的元组数目是无限的，则称为无限关系，否则称为有限关系**。
- 在关系模型中，对关系作了下列规范性限制
	1. 关系中的**每个属性值都是不可分解的**，即：具有原子性
	2. 关系中**不允许出现重复元组**
	3. 由于关系是一个集合，所以不考虑元组间的顺序，即：没有**行序**
	4. 元组中的属性**在理论上也是无序**的，但使用时按习惯考虑列的顺序
## 3. 三类完整性规则
### (1) 实体完整性规则
- 定义：关系中，元组在组成**主键**的属性上**不能有空值**。
### (2)参照完整性规则
- 定义：如果属性集(元组)K是关系模式R1的主键，K也是关系模式R2的外键，那么在R2的关系中，K的取值只有两种可能，或者为空值，或者等于R1关系中的某个主键值。即：不允许引用不存在的实体。
- 可变通：
	1. 外键和其对应的主键可不同名，只要定义在相同值域上即可
	2. R1和R2也可以是同一个关系模式，此时K表示了同一关系中不同元组之间的关系
	3. 外键值是否允许为空，应视具体问题而定，一般不为空
### (3)用户定义的完整性规则
- 定义：用户可以根据自己的需求，针对具体的数据约数，设置完整性规则
## 4. 关系模型的三层体系结构

# 三、 关系模式
## 1.三大范式
### (1)第一范式(1NF)
- 定义：如果关系模式R的每个关系 r 的属性值都是不可分的原子值(即：任一列均不可再细分为多个列)，则称R是第一范式的模式
### (2)第二范式(2NF)
- 定义：在**第一范式的基础**上，每个**非主属性==完全函数依赖==于候选键**
### (3)第三范式(3NF)
- 定义：在**第一范式的基础**上，每个**非主属性都==不传递依赖==于R的候选键**
### 关系：
- 如果关系模式R是 3NF 模式，那么它也是 2NF 模式
- 满足BNCF的范式一定也满足3NF
## 2. BNCF
- 定义：若关系模式R是1NF，且每个属性都不传递依赖于R的候选键，那么就说R是BCNF的模式
	- 换言之：数据表必须符合第三范式（3NF）。所有非主属性必须完全依赖于候选键，而不能部分依赖于候选键。
