# 处理机调度

---

### 一、处理机调度的基本概念

```
在选择调度算法时，需要考虑算法的特性
```
#### （一）算法选择的重要指标
##### 1. CPU利用率

- CPU是计算机中最重要的资源之一，所以应尽可能使CPU保持**忙碌**的状态，使这一资源的利用率最高
- CPU利用率是指CPU处于**忙碌**状态占所有状态的比例
##### 2. 系统吞吐量

- 表示单位时间内CPU完成作业的数量
##### 3. 周转时间

- 周转时间：**从作业提交到作业完成**所经历的时间
	- $\text{作业的周转时间} = \text{作业完成时间} - \text{作业提交时间}$ 
- 平均周转时间：多个作业周转时间的平均值
- 带权周转时间：作业周转时间与作业实际运行时间的比值
	- $带权周转时间=\frac{作业周转时间}{作业实际运行时间}$
- 平均带权周转时间：多个作业带权周转时间的平均值
##### 4. 等待时间

- 等待时间：进程处于等待处理机状态的时间之和
##### 5. 响应时间

- 响应时间：用户从提交请求到系统**首次**产生相应所用的时间
- 在**交互式系统**中，一般采用响应时间作为衡量调度算法的重要准则之一
#### （二）调度的层次

```
作业，即用户在计算机系统中完成一个任务的过程。
作业由程序、数据及作业说明书组成，一个作业从进入系统到退出系统一般要经过提交、后备、执行、完成这4个状态。
1.提交状态：作业通过用户由输入设备进入输入系统。
2.后备状态：作业提交后，由系统为该作业建立作业控制块(JCB，JobContrd Block)，并把它插入后备作业队列中，等待作业调度程序的调度。
3.执行状态：后备状态的作业若被作业调度选中，并且分配了必要的资源，由作业调度程序建立相应的进程。
4.完成状态：当作业执行结束后，进入作业完成状态。此时，由作业调度程序对该作业进行善后处理，主要表现为撤消作业的作业控制块，并回收此作业占用的系统中的资源数。最后，将作业的结果输出到外设之中。
```
##### 1. 作业调度（高级调度）

- 按照一定的原则从外存中处于后备状态的作业中挑选一个或者多个作业，为它们分配内存、I/O资源等必要资源，并建立相应的进程，以使它们获得竞争处理机的权利
	- 作业由外存调入内存中
	- 后备队列（外存） $\rightarrow$   分配资源，建立进程，从创建态变为就绪态，进入就绪队列（内存）
##### 2. 内存调度（中级调度）

- 作用：提高内存利用率和系统吞吐量
- 同样是将作业从外存调入内存中
- 引入虚拟内存后，OS可以将暂时不用的进程放到外存中（该进程进入**挂起状态**），等到空闲时再将其重新调入内存
##### 3. 进程调度（低级调度）










