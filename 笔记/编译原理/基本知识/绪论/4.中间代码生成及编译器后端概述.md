# 中间代码生成及编译器后端概述

---

### 常用的中间表示形式

1. 三地址码（Three-address Code）
	- 定义：三地址码由**类似于汇编语言**的指令序列组成，每个指令**最多有三个操作数**（operand）
2. 语法结构树/语法树（Syntax Trees）
	- 注意区分：语法树与语法分析树


#### 常用的三地址指令
- 图示：![](assets/Pasted%20image%2020241024203820.png)
	- 红色部分表示的是指令的操作符
	- 其中的x，y，z表示运算分量及运算结果存放的地址，过程调用中的p表示的是过程的名字，n表示的是过程的参数数量
	- 其中的数组，表示的是数组的相对地址及偏移地址（\[  \]内的是偏移地址）
	- **地址**可以具有如下形式之一：
		1. 源程序中的**名字**（name）
		2. **常量**（constant）
		3. 编译器生成的**临时变量**（temporary）

#### 三地址指令的表示

- 有以下几种表现形式：
	1. 四元式
		- 表现如下：（op,arg1,arg2,result）
		- 例图示：![](assets/Pasted%20image%2020241024204724.png)
			- 三地址指令序列唯一确定了运算完成的顺序
	1. 三元式
	2. 间接三元式

### 中间代码生成的例子

- 图示：![](assets/Pasted%20image%2020241024205524.png)
	- 例如：中间代码生成的第一句：
		- 100号指令：（$j<$，$a$，$b$，102） $\Rightarrow$ 假如$\; a\; < b$，那么就跳转到102号指令并执行

### 编译器的结构

#### 什么是目标代码生成？

- 目标代码生成就是以源程序的**中间表示形式**作为输入，并把它映射到**目标语言**的过程

#### 目标代码生成的主要任务

- 目标代码生成的一个重要任务就是为程序中使用的变量**合理分配寄存器**

#### 什么是代码优化？

- 代码优化就是为改进代码所进行的**等价程序变换**，使其**运行得更快**些、**占用空间更少**些，或两者兼具
